<div>
    <div>
        <label for="sheet-select" class="spacingrightsmall">Show sheet:</label>
        <select id="sheet-select" [formControl]="sheetSelect" (change)="selectSheet()">
            @for(sheet of sheets.sheets; track sheet.getId()) {
                <option value="{{sheet.getId()}}">{{sheet.getCharName()}}</option>
            }
        </select>
    </div>
    @if(editable && isGM) {
        <div class="spacingtopsmall">
            <label for="sheet-newCharName">Add new Character:</label>
            <input class="spacingrightsmall spacingleftsmall" type="text" id="sheet-newCharName" [formControl]="newCharName">
            <button [disabled]="!newCharName.valid" (click)="addSheet()">Create sheet</button>
        </div>
        <div class="spacingtopsmall">
            <button [disabled]="!currentSheet" (click)="copySheet()">Copy {{getPossesiveFormOfName()}} sheet</button>
        </div>
    }
    <hr class="spacingtopmedium spacingbottomlarge">
    @if(currentSheet) {
        <gneric-sheet [sheetModel]="currentSheet" [editable]="editable" (gNericElemChangedEvent)="reactOnSheetUpdate($event)"/>
    }
    @else {
        <p>No character sheet selected</p>
        @if(!isGM) {
            <p>As a player, you cannot create or delete sheets by yourself. A GM will assign one or more sheets to you.</p>
        }
    }
    @if(editable && isGM) {
        <hr class="spacingtoplarge spacingbottommedium">
        <div class="flexend">
            <button [disabled]="!currentSheet" (click)="openDeleteDialog()">Delete sheet</button>
        </div>
    }
</div>
<gneric-deldialog #dialog [text]="'Delete '+getPossesiveFormOfName()+' sheet?'" (acceptDeletionEvent)="deleteSheet()" />
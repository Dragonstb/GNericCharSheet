<fieldset #fieldSet class="editable">
    @if(editable()) {
        <legend class="ctrl-elem">{{fullId}}</legend>
    }
    <div class="boxed">
        @if(editable()) {
            <h3 class="elemtitle">{{title.value}}</h3>
            <div>
                <label for="titleform">Change title to:</label>
                <input type="text" id="titleform" (input)="this.fireElemChangeEvent()" [formControl]="title">
            </div>
            <div class="ctrl-elem">
                <button (click)="addRow()">add row</button>
                <button (click)="removeRow()" [disabled]="rows.length<2">remove row</button>
            </div>
        }
        @else if(hasTitle()) {
            <h3 class="elemtitle">{{title.value}}</h3>
        }
        @for(row of rows; track $index) {
            <div class="betweenflex">
                <label for="checkbox-{{$index}}">
                    @if(!editable()) {
                        {{row.getText()}}
                    }
                    @else {
                        <input type="text" (input)="this.fireElemChangeEvent()" [formControl]="row.text">
                    }
                </label>
                <input type="checkbox" id="checkbox-{{$index}}" (change)="this.fireElemChangeEvent()" [formControl]="row.checkbox">
            </div>
        }
    </div>
    @if(editable()) {
        <div>
            <button class="ctrl-elem" (click)="fireDeleteCheckboxesEvent()">delete checkboxes</button>
        </div>
    }
</fieldset>